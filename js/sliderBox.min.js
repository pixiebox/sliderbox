;(function(a){var p=[],q=!1,r="ontouchstart"in window,u=r?"orientationchange":"resize",v="devicePixelRatio"in window?window.devicePixelRatio:1,n={debounce:function(b,l,g){var c;return function(){var a=this,d=arguments,m=g&&!c;clearTimeout(c);c=setTimeout(function(){c=null;g||b.apply(a,d)},l);m&&b.apply(a,d)}},maxHeight:function(){for(var b=0,a=Math,g=window.screen.height,c=[window.innerHeight,window.document.documentElement.clientHeight,window.document.documentElement.offsetHeight,window.document.body.clientHeight],
e;b<c.length;b++)isNaN(c[b])&&(c.splice(b,1),b--);c.length&&(e=a.max.apply(a,c),isNaN(g)||(e=a.min(g,e)));return e||g||0},getViewportWidthInCssPixels:function(){for(var b=0,a=Math,g=window.screen.width,c=[window.innerWidth,window.document.documentElement.clientWidth,window.document.documentElement.offsetWidth,window.document.body.clientWidth],e;b<c.length;b++)isNaN(c[b])&&(c.splice(b,1),b--);c.length&&(e=a.max.apply(a,c),isNaN(g)||(e=a.min(g,e)));return e||g||0},setBreakpoint:function(b){var l=b.data("options"),
g,c,e,d;l.auto&&b.data("SliderBox").stopAuto();b.data("busyAnimating")?setTimeout(function(){n.setBreakpoint(b)},250):(g=this.getViewportWidthInCssPixels(),g=this.getBreakpoint(l.breakpoints,g),c=g.folder-0,g=b.parent().width(),d=a(".placeholder",b),e=a(".item",d),q=!1,b.width(g),e.width(g),d.css({marginLeft:0-g*l.currentSlide,width:g*e.length}),c!==l.currentBreakpoint&&(e.each(function(d,b){var g=a(b),e=g.attr("data-breakpoint"),g=g.find("img");g.length&&"undefined"!==typeof e&&!1!==e&&g.attr("src",
("path"in l&&"absolute"===l.path?"/":"")+e.replace("{folder}",c)+this.getAttribute("data-img"))}),l.currentBreakpoint=c,b.data("options",l)),b.css("maxHeight",n.maxHeight()),l.auto&&b.data("SliderBox").startAuto())},getBreakpoint:function(b,a){for(var g=a,c=0,e={},d,m,k,h;d=b[c];){m=d.minWidth;k=d.maxWidth;h="minDevicePixelRatio"in d?d.minDevicePixelRatio:0;if(0<a){if(m&&k&&a>=m&&a<=k||m&&!k&&a>=m||k&&!m&&a<=k)if(!h||h&&v>=h)e=d}else if(0>=g||m<g||k<g)g=m||k||g,e=d;c++}return e},removeSlider:function(a){p.pop();
a.remove()},error:function(a){throw Error(a);}};a(window).on(u,n.debounce(function(){for(var a=0;a<p.length;a++)n.setBreakpoint(p[a])},250));a.fn.sliderBox=function(b,l){return this.each(function(){function g(f,b){if(q)setTimeout(function(){g(f,b)},100);else{var c=d.width(),t=a(".item",m).length-1,e=d.data("options"),h,l;d.data("busyAnimating",!0);switch(f){case "prev":e.currentSlide=0==e.currentSlide?t:e.currentSlide-1;l={marginLeft:-(c*e.currentSlide)};break;case "next":e.currentSlide=e.currentSlide==
t?0:e.currentSlide+1;l={marginLeft:-(c*e.currentSlide)};break;case "goto":l={marginLeft:-(c*b)}}m.animate(l,k.speed,function(){d.data("busyAnimating",!1);h=a(".item",d).eq(e.currentSlide).height();d.height(h)})}}function c(f,g){var e=d.add(d.find("img")).filter("img"),b=e.length;b?e.each(function(){var d=a(this),e=function(){d.off("load error",e);f?(b--,0==b&&g()):g()};d.on("load error",e);if("complete"==this.readyState)d.trigger("load");else if(this.readyState)this.src=this.src;else if(this.complete)d.trigger("load");
else if(void 0===this.complete){var c=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";this.src=c}}):g()}function e(){"breakpoints"in k&&k.breakpoints.constructor===Array&&k.breakpoints.length?(n.setBreakpoint(d),p.push(d)):c(!1,function(){var f=a(".item",d),g=f.height(),e=d.width(),b=f.length*d.width();d.height(g);f.width(e);a(".placeholder",d).width(b)});d.on("click",".navigate",function(f){f.preventDefault();f=a(f.currentTarget).index();g("goto",f)});if(r)d.on("touchstart touchmove touchend",
function(f){var a;if("undefined"!==typeof f&&"undefined"!==typeof f.originalEvent.touches)switch(a=f.originalEvent.touches[0],f.originalEvent.type){case "touchstart":h[f.originalEvent.type].x=a.pageX;h[f.originalEvent.type].y=a.pageY;break;case "touchmove":h[f.originalEvent.type].x=a.pageX;h[f.originalEvent.type].y=a.pageY;break;case "touchend":d.data("busyAnimating")||(h[f.originalEvent.type]=!0,-1<h.touchstart.x&&-1<h.touchmove.x&&(f=Math.abs(h.touchstart.x-h.touchmove.x),a=Math.abs(h.touchstart.y-
h.touchmove.y),f>a&&f>.33*n.getViewportWidthInCssPixels()&&(h.direction=h.touchstart.x<h.touchmove.x?"left":"right","left"===h.direction?g("prev"):"right"===h.direction&&g("next"))))}d.data("SliderBox").stopAuto()}),a(".prev, .next",d).css("display","none");else d.on("click",".prev, .next",function(a){a.preventDefault();d.data("SliderBox").stopAuto();g(this.rel)});"onComplete"in k&&c(!0,k.onComplete)}var d=a(this),m=d.find(".placeholder"),k=a.extend({auto:!1,currentSlide:0,currentBreakpoint:0,speed:500},
b),h={touchstart:{x:-1,y:-1},touchmove:{x:-1,y:-1},touchend:!1,direction:"undetermined"},l;d.data({busyAnimating:!1,options:k,SliderBox:{addSlides:function(f){var e=a(".item",m).eq(0).clone(),b;"breakpoints"in k&&(viewPortWidth=n.getViewportWidthInCssPixels(),breakpoint=n.getBreakpoint(k.breakpoints,viewPortWidth),breakpointVal=breakpoint.folder-0);for(var c=0;c<f.length;c++){for(var h in f[c])"img"===h?"breakpoints"in k?e.attr("data-img",f[c][h].src).attr("data-breakpoint",f[c][h].folder).find("img").attr("src",
("path"in k&&"absolute"===k.path?"/":"")+f[c][h].folder.replace("{folder}",breakpointVal)+f[c][h].src):e.find("img").attr("src",("path"in k&&"absolute"===k.path?"/":"")+f[c][h].folder+f[c][h].src):a(".item ."+h,e).html(f[c][h]);m.append(e);c||(b=a(".item",m).length-1)}f=a(".item",m);e=f.length*f.eq(0).width();d.data("options").currentSlide=f.length-1;m.width(e);g("goto",b)},removeSlider:function(){n.removeSlider(d)},startAuto:function(){if(!1 in k||!k.auto)k.auto=3E3;l=setInterval(function(){g("next")},
k.auto)},stopAuto:function(){clearInterval(l)}}});"ajax"in k?a.ajax({url:k.ajax,dataType:"json"}).done(function(f){var g=a(".item",d).eq(0),c;if("slides"in f){a(".loading",d).remove();for(var b=0;b<f.slides.length;b++){c=g.clone();for(key in f.slides[b])"image"===key?"breakpoints"in k?c.attr("data-breakpoint",f.slides[b].image.path).attr("data-img",f.slides[b].image.img):c.find("img").attr("src",f.slides[b].image.path+f.slides[b].image.img):c.find("."+key).html(f.slides[b][key]);m.append(c);"image"in
f.slides[b]||a(".item",m).last().find("img").remove()}a(".item",d).eq(0).remove();e()}else return a(".loading",d).html("No slides found, or misformatted json response."),n.error("No slides found, or misformatted json response.")}):e()})}})(jQuery);