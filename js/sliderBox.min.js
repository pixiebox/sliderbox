(function(a){var r=[],t=!1,u="ontouchstart"in window,w=u?"orientationchange":"resize",x="devicePixelRatio"in window?window.devicePixelRatio:1,p={debounce:function(d,m,e){var a;return function(){var h=this,b=arguments,k=e&&!a;clearTimeout(a);a=setTimeout(function(){a=null;e||d.apply(h,b)},m);k&&d.apply(h,b)}},getViewportWidthInCssPixels:function(){for(var d=0,a=Math,e=window.screen.width,n=[window.innerWidth,window.document.documentElement.clientWidth,window.document.documentElement.offsetWidth,window.document.body.clientWidth],
h;d<n.length;d++)isNaN(n[d])&&(n.splice(d,1),d--);n.length&&(h=a.max.apply(a,n),isNaN(e)||(h=a.min(e,h)));return h||e||0},setBreakpoint:function(d){var m=d.data("options"),e,n,h,b,k;m.auto&&d.data("SliderBox").stopAuto();d.data("busyAnimating")?setTimeout(function(){p.setBreakpoint(d)},250):(e=this.getViewportWidthInCssPixels(),e=this.getBreakpoint(m.breakpoints,e),n=e.folder-0,e=d.parent().width(),k=a(".placeholder",d),b=a(".item",k),t=!1,d.width(e),b.width(e),k.css({marginLeft:0-e*m.currentSlide,
width:e*b.length}),n!==m.currentBreakpoint?(b.each(function(b,e){var k=a(e),c=k.attr("data-breakpoint"),q=k.find("img");if(q.length&&"undefined"!==typeof c&&!1!==c){if(b===m.currentSlide)q.one("load",function(){h=k.outerHeight();d.height(h)});q.attr("src",("path"in m&&"absolute"===m.path?"/":"")+c.replace("{folder}",n)+this.getAttribute("data-img"))}else b===m.currentSlide&&(h=k.outerHeight(),d.height(h))}),m.currentBreakpoint=n,d.data("options",m)):(h=b.eq(m.currentSlide).outerHeight(),d.height(h)),
m.auto&&d.data("SliderBox").startAuto())},getBreakpoint:function(d,a){for(var e=a,n=0,h={},b,k,g,f;b=d[n];){k=b.minWidth;g=b.maxWidth;f="minDevicePixelRatio"in b?b.minDevicePixelRatio:0;if(0<a){if(k&&g&&a>=k&&a<=g||k&&!g&&a>=k||g&&!k&&a<=g)if(!f||f&&x>=f)h=b}else if(0>=e||k<e||g<e)e=k||g||e,h=b;n++}return h},removeSlider:function(a){r.pop();a.remove()},error:function(a){throw Error(a);}};a(window).on(w,p.debounce(function(){for(var a=0;a<r.length;a++)p.setBreakpoint(r[a])},250));a.fn.sliderBox=function(d,
m){return this.each(function(){function e(c,q){if(t)setTimeout(function(){e(c,q)},100);else{var d=b.width(),v=a(".item",k).length-1,l=b.data("options"),h,f;b.data("busyAnimating",!0);switch(c){case "prev":l.currentSlide=0==l.currentSlide?v:l.currentSlide-1;f={marginLeft:-(d*l.currentSlide)};break;case "next":l.currentSlide=l.currentSlide==v?0:l.currentSlide+1;f={marginLeft:-(d*l.currentSlide)};break;case "goto":f={marginLeft:-(d*q)}}k.animate(f,g.speed,function(){b.data("busyAnimating",!1);h=a(".item",
b).eq(l.currentSlide).height();b.height(h)})}}function n(c,e){var d=b.add(b.find("img")).filter("img"),g=d.length;g?d.each(function(){var b=a(this),d=function(){b.off("load error",d);c?(g--,0==g&&e()):e()};b.on("load error",d);if("complete"==this.readyState)b.trigger("load");else if(this.readyState)this.src=this.src;else if(this.complete)b.trigger("load");else if(void 0===this.complete){var k=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";this.src=k}}):
e()}function h(){g.responsive&&g.breakpoints.constructor===Array&&g.breakpoints.length?(p.setBreakpoint(b),r.push(b)):n(!1,function(){var c=a(".item",b),d=c.height(),e=b.width(),g=c.length*b.width();b.height(d);c.width(e);a(".placeholder",b).width(g)});b.on("click",".navigate",function(c){c.preventDefault();c=a(c.currentTarget).index();e("goto",c)});if(u)b.on("touchstart touchmove touchend",function(c){var a;if("undefined"!==typeof c&&"undefined"!==typeof c.originalEvent.touches)switch(a=c.originalEvent.touches[0],
c.originalEvent.type){case "touchstart":f[c.originalEvent.type].x=a.pageX;f[c.originalEvent.type].y=a.pageY;break;case "touchmove":f[c.originalEvent.type].x=a.pageX;f[c.originalEvent.type].y=a.pageY;break;case "touchend":b.data("busyAnimating")||(f[c.originalEvent.type]=!0,-1<f.touchstart.x&&-1<f.touchmove.x&&(c=Math.abs(f.touchstart.x-f.touchmove.x),a=Math.abs(f.touchstart.y-f.touchmove.y),c>a&&c>.33*p.getViewportWidthInCssPixels()&&(f.direction=f.touchstart.x<f.touchmove.x?"left":"right","left"===
f.direction?e("prev"):"right"===f.direction&&e("next"))))}b.data("SliderBox").stopAuto()}),a(".prev, .next",b).css("display","none");else b.on("click",".prev, .next",function(a){a.preventDefault();b.data("SliderBox").stopAuto();e(this.rel)});"onComplete"in g&&n(!0,g.onComplete)}var b=a(this),k=b.find(".placeholder"),g=a.extend({auto:!1,breakpoints:[{folder:"480",maxWidth:480},{folder:"640",minWidth:481,maxWidth:767},{folder:"900",minWidth:748},{folder:"1170",minWidth:992},{folder:"640",maxWidth:320,
minDevicePixelRatio:2},{folder:"1170",minWidth:320,maxWidth:667,minDevicePixelRatio:2},{folder:"2048",minWidth:748,maxWidth:1024,minDevicePixelRatio:2},{folder:"2048",minWidth:414,maxWidth:736,minDevicePixelRatio:3}],currentSlide:0,currentBreakpoint:0,responsive:!1,speed:500},d),f={touchstart:{x:-1,y:-1},touchmove:{x:-1,y:-1},touchend:!1,direction:"undetermined"},m;"breakpoints"in d&&!("responsive"in d)&&(g.responsive=!0);b.data({busyAnimating:!1,options:g,SliderBox:{addSlides:function(c){var d=a(".item",
k).eq(0).clone(),f;"breakpoints"in g&&(viewPortWidth=p.getViewportWidthInCssPixels(),breakpoint=p.getBreakpoint(g.breakpoints,viewPortWidth),breakpointVal=breakpoint.folder-0);for(var h=0;h<c.length;h++){for(var l in c[h])"img"===l?"breakpoints"in g?d.attr("data-img",c[h][l].src).attr("data-breakpoint",c[h][l].folder).find("img").attr("src",("path"in g&&"absolute"===g.path?"/":"")+c[h][l].folder.replace("{folder}",breakpointVal)+c[h][l].src):d.find("img").attr("src",("path"in g&&"absolute"===g.path?
"/":"")+c[h][l].folder+c[h][l].src):a(".item ."+l,d).html(c[h][l]);k.append(d);h||(f=a(".item",k).length-1)}c=a(".item",k);d=c.length*c.eq(0).width();b.data("options").currentSlide=c.length-1;k.width(d);e("goto",f)},removeSlider:function(){p.removeSlider(b)},startAuto:function(){if(!1 in g||!g.auto)g.auto=3E3;m=setInterval(function(){e("next")},g.auto)},stopAuto:function(){clearInterval(m)}}});"ajax"in g?a.ajax({url:g.ajax,dataType:"json"}).done(function(c){var d=a(".item",b).eq(0),e;if("slides"in
c){a(".loading",b).remove();for(var f=0;f<c.slides.length;f++){e=d.clone();for(key in c.slides[f])"image"===key?g.responsive?e.attr("data-breakpoint",c.slides[f].image.path).attr("data-img",c.slides[f].image.img):e.find("img").attr("src",c.slides[f].image.path+c.slides[f].image.img):e.find("."+key).html(c.slides[f][key]);k.append(e);"image"in c.slides[f]||a(".item",k).last().find("img").remove()}a(".item",b).eq(0).remove();h()}else return a(".loading",b).html("No slides found, or misformatted json response."),
p.error("No slides found, or misformatted json response.")}):h()})}})(jQuery);