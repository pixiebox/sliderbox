;(function(f){var v=!1,q="ontouchstart"in window,B=q?"orientationchange":"resize",C="devicePixelRatio"in window?window.devicePixelRatio:1,A=function(D,n,A){function m(k,c){if(v)setTimeout(function(){m(k,c)},100);else{var h=e.width(),b=f(".item",l).length-1,d;e.data("busyAnimating",!0);switch(k){case "prev":a.currentSlide=0===a.currentSlide?b:a.currentSlide-1;d={marginLeft:-(h*a.currentSlide)};break;case "next":a.currentSlide=a.currentSlide===b?0:a.currentSlide+1;d={marginLeft:-(h*a.currentSlide)};
break;case "goto":a.currentSlide=c,d={marginLeft:-(h*c)},a.navigation&&f(".slider-nav a",e).removeClass("active").eq(c).addClass("active")}l.animate(d,a.speed,function(){e.data("busyAnimating",!1);r(e)})}}function p(k,c){var a=e.add(e.find("img")).filter("img"),b=a.length;b?a.each(function(){var d=f(this),a=function(){d.off("load error",a);k?(b--,0==b&&c()):c()};d.on("load error",a);if("complete"==this.readyState)d.trigger("load");else if(this.readyState)this.src=this.src;else if(this.complete)d.trigger("load");
else if(void 0===this.complete){var h=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";this.src=h}}):c()}function u(){E(e,a.navigation);a.responsive&&a.breakpoints.constructor===Array&&a.breakpoints.length?x(e):p(!1,function(){var a=f(".item",e),c=e.width(),h=a.length*c;a.width(c);f(".placeholder",e).width(h);r(e)});"onComplete"in a&&p(!0,a.onComplete);e.on("click",".navigate",function(a){a.preventDefault();a=f(a.currentTarget).index();m("goto",a)});if(q)e.on("touchstart touchmove touchend",
function(a){var c;if("undefined"!==typeof a&&"undefined"!==typeof a.originalEvent.touches)switch(c=a.originalEvent.touches[0],a.originalEvent.type){case "touchstart":g[a.originalEvent.type].x=c.pageX;g[a.originalEvent.type].y=c.pageY;break;case "touchmove":g[a.originalEvent.type].x=c.pageX;g[a.originalEvent.type].y=c.pageY;break;case "touchend":e.data("busyAnimating")||(g[a.originalEvent.type]=!0,-1<g.touchstart.x&&-1<g.touchmove.x&&(a=Math.abs(g.touchstart.x-g.touchmove.x),c=Math.abs(g.touchstart.y-
g.touchmove.y),a>c&&a>.33*w()&&(g.direction=g.touchstart.x<g.touchmove.x?"left":"right","left"===g.direction?m("prev"):"right"===g.direction&&m("next"))))}t.stopAuto()});else e.on("click",".prev, .next",function(a){a.preventDefault();t.stopAuto();m(this.rel)});if(a.responsive)f(window).on(B,F(function(){x(e)},250))}var e=f(D),l=e.find(".placeholder");n=n||{};var a=f.extend({},f.fn.sliderBox.defaults,n),g={touchstart:{x:-1,y:-1},touchmove:{x:-1,y:-1},touchend:!1,direction:"undetermined"},y,t={addSlides:function(k){var c=
f(".item",l).eq(0).clone(),h;"breakpoints"in a&&(viewPortWidth=w(),breakpoint=z(a.breakpoints,viewPortWidth),breakpointVal=breakpoint.folder-0);for(var b=0;b<k.length;b++){for(var d in k[b])"img"===d?"breakpoints"in a?c.attr("data-img",k[b][d].src).attr("data-breakpoint",k[b][d].folder).find("img").attr("src",("path"in a&&"absolute"===a.path?"/":"")+k[b][d].folder.replace("{folder}",breakpointVal)+k[b][d].src):c.find("img").attr("src",("path"in a&&"absolute"===a.path?"/":"")+k[b][d].folder+k[b][d].src):
f(".item ."+d,c).html(k[b][d]);l.append(c);b||(h=f(".item",l).length-1)}k=f(".item",l);c=k.length*k.eq(0).width();n.currentSlide=k.length-1;l.width(c);m("goto",h)},removeSlider:function(){e.remove()},startAuto:function(){if(!1 in a||!a.auto)a.auto=3E3;y=setInterval(function(){m("next")},a.auto)},stopAuto:function(){clearInterval(y)}},F=function(a,c,h){var b;return function(){var d=this,f=arguments,e=h&&!b;clearTimeout(b);b=setTimeout(function(){b=null;h||a.apply(d,f)},c);e&&a.apply(d,f)}},w=function(){for(var a=
0,c=Math,h=window.screen.width,b=[window.innerWidth,window.document.documentElement.clientWidth,window.document.documentElement.offsetWidth,window.document.body.clientWidth],d;a<b.length;a++)isNaN(b[a])&&(b.splice(a,1),a--);b.length&&(d=c.max.apply(c,b),isNaN(h)||(d=c.min(h,d)));return d||h||0},x=function c(h){var b,d,e,g;t.stopAuto();h.data("busyAnimating")?setTimeout(function(){c(h)},250):(b=w(),b=z(a.breakpoints,b),d=b.folder-0,b=h.parent().width(),g=f(".placeholder",h),e=f(".item",g),v=!1,h.width(b),
e.width(b),g.css({marginLeft:0-b*a.currentSlide,width:b*e.length}),d!==a.currentBreakpoint?(e.each(function(c,b){var e=f(b),g=e.attr("data-breakpoint"),e=e.find("img");if(e.length){if(c===a.currentSlide)e.one("load",function(){r(h)});"undefined"!==typeof g&&!1!==g&&e.attr("src",("path"in a&&"absolute"===a.path?"/":"")+g.replace("{folder}",d)+this.getAttribute("data-img"))}else c===a.currentSlide&&r(h)}),a.currentBreakpoint=d):r(h),a.auto&&t.startAuto())},z=function(a,h){for(var b=h,d=0,e={},f,g,l,
m;f=a[d];){g=f.minWidth;l=f.maxWidth;m="minDevicePixelRatio"in f?f.minDevicePixelRatio:0;if(0<h){if(g&&l&&h>=g&&h<=l||g&&!l&&h>=g||l&&!g&&h<=l)if(!m||m&&C>=m)e=f}else if(0>=b||g<b||l<b)b=g||l||b,e=f;d++}return e},E=function(a,e){if(e||q){a.append('<nav class="slider-nav '+e+'"></nav>');for(var b=f(".slider-nav",a),d=0;d<f(".item",a).length;d++)b.append('<a class="navigate" href="#">'+d+"</a>");f("a.navigate",b).eq(0).addClass("active")}else a.prepend('<a href="#" class="prev" rel="prev">&lt;</a> <a href="#" class="next" rel="next">&gt;</a>')},
r=function(c){var e=f(".item",c).eq(a.currentSlide).outerHeight();c.animate({height:e})};"breakpoints"in a&&!a.responsive&&(a.responsive=!0);"ajax"in a?f.ajax({url:a.ajax,dataType:"json"}).done(function(c){var h=f(".item",e).eq(0),b;if("slides"in c){f(".loading",e).remove();for(var d=0;d<c.slides.length;d++){b=h.clone();for(var g in c.slides[d])"image"===g?a.responsive?b.attr("data-breakpoint",c.slides[d].image.path).attr("data-img",c.slides[d].image.img):b.find("img").attr("src",c.slides[d].image.path+
c.slides[d].image.img):b.find("."+g).html(c.slides[d][g]);l.append(b);"image"in c.slides[d]||f(".item",l).last().find("img").remove()}f(".item",e).eq(0).remove();u()}else throw f(".loading",e).html("No slides found, or misformatted json response."),Error("No slides found, or misformatted json response.");}):u();return t};f.fn.sliderBox=function(q,n){return this.each(function(v,m){var p=f(this);if(p.data("sliderBox"))return p.data("sliderBox");var u=new A(this,q,n);p.data({busyAnimating:!1,sliderBox:u})})};
f.fn.sliderBox.defaults={auto:!1,breakpoints:[{folder:"480",maxWidth:480},{folder:"640",minWidth:481,maxWidth:767},{folder:"900",minWidth:748},{folder:"1170",minWidth:992},{folder:"640",maxWidth:320,minDevicePixelRatio:2},{folder:"1170",minWidth:320,maxWidth:667,minDevicePixelRatio:2},{folder:"2048",minWidth:748,maxWidth:1024,minDevicePixelRatio:2},{folder:"2048",minWidth:414,maxWidth:736,minDevicePixelRatio:3}],currentSlide:0,currentBreakpoint:0,navigation:!1,responsive:!1,speed:500}})(jQuery);