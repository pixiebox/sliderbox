;(function(c){var r=!1,t="ontouchstart"in window,v=t?"orientationchange":"resize",w="devicePixelRatio"in window?window.devicePixelRatio:1,h={debounce:function(a,f,e){var c;return function(){var n=this,b=arguments,l=e&&!c;clearTimeout(c);c=setTimeout(function(){c=null;e||a.apply(n,b)},f);l&&a.apply(n,b)}},getViewportWidthInCssPixels:function(){for(var a=0,c=Math,e=window.screen.width,p=[window.innerWidth,window.document.documentElement.clientWidth,window.document.documentElement.offsetWidth,window.document.body.clientWidth],
n;a<p.length;a++)isNaN(p[a])&&(p.splice(a,1),a--);p.length&&(n=c.max.apply(c,p),isNaN(e)||(n=c.min(e,n)));return n||e||0},setBreakpoint:function(a){var f=a.data("options"),e,p,n,b;f.auto&&a.data("SliderBox").stopAuto();a.data("busyAnimating")?setTimeout(function(){h.setBreakpoint(a)},250):(e=this.getViewportWidthInCssPixels(),e=this.getBreakpoint(f.breakpoints,e),p=e.folder-0,e=a.parent().width(),b=c(".placeholder",a),n=c(".item",b),r=!1,a.width(e),n.width(e),b.css({marginLeft:0-e*f.currentSlide,
width:e*n.length}),p!==f.currentBreakpoint?(n.each(function(b,e){var d=c(e),g=d.attr("data-breakpoint"),d=d.find("img");if(d.length&&"undefined"!==typeof g&&!1!==g){if(b===f.currentSlide)d.one("load",function(){h.sliderHeight(a)});d.attr("src",("path"in f&&"absolute"===f.path?"/":"")+g.replace("{folder}",p)+this.getAttribute("data-img"))}else if(b===f.currentSlide)d.one("load",function(){h.sliderHeight(a)})}),f.currentBreakpoint=p,a.data("options",f)):h.sliderHeight(a),f.auto&&a.data("SliderBox").startAuto())},
getBreakpoint:function(a,c){for(var e=c,p=0,n={},b,l,h,d;b=a[p];){l=b.minWidth;h=b.maxWidth;d="minDevicePixelRatio"in b?b.minDevicePixelRatio:0;if(0<c){if(l&&h&&c>=l&&c<=h||l&&!h&&c>=l||h&&!l&&c<=h)if(!d||d&&w>=d)n=b}else if(0>=e||l<e||h<e)e=l||h||e,n=b;p++}return n},createNav:function(a,h){if(h){a.append('<nav class="slider-nav '+h+'"></nav>');for(var e=c(".slider-nav",a),p=0;p<c(".item",a).length;p++)e.append('<a class="navigate" href="#">'+p+"</a>")}else a.prepend('<a href="#" class="prev" rel="prev">\u2039</a> <a href="#" class="next" rel="next">\u203a</a>')},
removeSlider:function(c){c.remove()},sliderHeight:function(a){var h=c(".item",a).eq(a.data("options").currentSlide).outerHeight();a.height(h)},error:function(c){throw Error(c);}};c.fn.sliderBox=function(a,f){return this.each(function(){function e(m,a){if(r)setTimeout(function(){e(m,a)},100);else{var g=b.width(),q=c(".item",l).length-1,k=b.data("options"),f;b.data("busyAnimating",!0);switch(m){case "prev":k.currentSlide=0===k.currentSlide?q:k.currentSlide-1;f={marginLeft:-(g*k.currentSlide)};break;
case "next":k.currentSlide=k.currentSlide===q?0:k.currentSlide+1;f={marginLeft:-(g*k.currentSlide)};break;case "goto":f={marginLeft:-(g*a)}}l.animate(f,d.speed,function(){b.data("busyAnimating",!1);h.sliderHeight(b)})}}function a(m,d){var e=b.add(b.find("img")).filter("img"),h=e.length;h?e.each(function(){var b=c(this),a=function(){b.off("load error",a);m?(h--,0==h&&d()):d()};b.on("load error",a);if("complete"==this.readyState)b.trigger("load");else if(this.readyState)this.src=this.src;else if(this.complete)b.trigger("load");
else if(void 0===this.complete){var e=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";this.src=e}}):d()}function n(){!1!==d.navigation&&h.createNav(b,d.navigation);d.responsive&&d.breakpoints.constructor===Array&&d.breakpoints.length?h.setBreakpoint(b):a(!1,function(){var m=c(".item",b),a=b.width(),d=m.length*a;m.width(a);c(".placeholder",b).width(d);b.height(elemHeight)});"onComplete"in d&&a(!0,d.onComplete);b.on("click",".navigate",function(b){b.preventDefault();
b=c(b.currentTarget).index();e("goto",b)});if(t)b.on("touchstart touchmove touchend",function(m){var c;if("undefined"!==typeof m&&"undefined"!==typeof m.originalEvent.touches)switch(c=m.originalEvent.touches[0],m.originalEvent.type){case "touchstart":g[m.originalEvent.type].x=c.pageX;g[m.originalEvent.type].y=c.pageY;break;case "touchmove":g[m.originalEvent.type].x=c.pageX;g[m.originalEvent.type].y=c.pageY;break;case "touchend":b.data("busyAnimating")||(g[m.originalEvent.type]=!0,-1<g.touchstart.x&&
-1<g.touchmove.x&&(m=Math.abs(g.touchstart.x-g.touchmove.x),c=Math.abs(g.touchstart.y-g.touchmove.y),m>c&&m>.33*h.getViewportWidthInCssPixels()&&(g.direction=g.touchstart.x<g.touchmove.x?"left":"right","left"===g.direction?e("prev"):"right"===g.direction&&e("next"))))}b.data("SliderBox").stopAuto()});else b.on("click",".prev, .next",function(c){c.preventDefault();b.data("SliderBox").stopAuto();e(this.rel)});if(d.responsive)c(window).on(v,h.debounce(function(){h.setBreakpoint(b)},250))}var b=c(this),
l=b.find(".placeholder"),f=f||{},d=c.extend({auto:!1,breakpoints:[{folder:"480",maxWidth:480},{folder:"640",minWidth:481,maxWidth:767},{folder:"900",minWidth:748},{folder:"1170",minWidth:992},{folder:"640",maxWidth:320,minDevicePixelRatio:2},{folder:"1170",minWidth:320,maxWidth:667,minDevicePixelRatio:2},{folder:"2048",minWidth:748,maxWidth:1024,minDevicePixelRatio:2},{folder:"2048",minWidth:414,maxWidth:736,minDevicePixelRatio:3}],currentSlide:0,currentBreakpoint:0,navigation:!1,responsive:!1,speed:500},
f),g={touchstart:{x:-1,y:-1},touchmove:{x:-1,y:-1},touchend:!1,direction:"undetermined"},u;"breakpoints"in f||"responsive"in f||(d.responsive=!0);b.data({busyAnimating:!1,options:d,SliderBox:{addSlides:function(a){var f=c(".item",l).eq(0).clone(),g;"breakpoints"in d&&(viewPortWidth=h.getViewportWidthInCssPixels(),breakpoint=h.getBreakpoint(d.breakpoints,viewPortWidth),breakpointVal=breakpoint.folder-0);for(var q=0;q<a.length;q++){for(var k in a[q])"img"===k?"breakpoints"in d?f.attr("data-img",a[q][k].src).attr("data-breakpoint",
a[q][k].folder).find("img").attr("src",("path"in d&&"absolute"===d.path?"/":"")+a[q][k].folder.replace("{folder}",breakpointVal)+a[q][k].src):f.find("img").attr("src",("path"in d&&"absolute"===d.path?"/":"")+a[q][k].folder+a[q][k].src):c(".item ."+k,f).html(a[q][k]);l.append(f);q||(g=c(".item",l).length-1)}a=c(".item",l);f=a.length*a.eq(0).width();b.data("options").currentSlide=a.length-1;l.width(f);e("goto",g)},removeSlider:function(){h.removeSlider(b)},startAuto:function(){if(!1 in d||!d.auto)d.auto=
3E3;u=setInterval(function(){e("next")},d.auto)},stopAuto:function(){clearInterval(u)}}});"ajax"in d?c.ajax({url:d.ajax,dataType:"json"}).done(function(a){var e=c(".item",b).eq(0),f;if("slides"in a){c(".loading",b).remove();for(var g=0;g<a.slides.length;g++){f=e.clone();for(var k in a.slides[g])"image"===k?d.responsive?f.attr("data-breakpoint",a.slides[g].image.path).attr("data-img",a.slides[g].image.img):f.find("img").attr("src",a.slides[g].image.path+a.slides[g].image.img):f.find("."+k).html(a.slides[g][k]);
l.append(f);"image"in a.slides[g]||c(".item",l).last().find("img").remove()}c(".item",b).eq(0).remove();n()}else return c(".loading",b).html("No slides found, or misformatted json response."),h.error("No slides found, or misformatted json response.")}):n()})}})(jQuery);