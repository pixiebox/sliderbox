(function(c){var t=[],u=!1,v="ontouchstart"in window,x=v?"orientationchange":"resize",y=window.devicePixelRatio||1,p={debounce:function(f,e,d){var c;return function(){var h=this,b=arguments,k=d&&!c;clearTimeout(c);c=setTimeout(function(){c=null;d||f.apply(h,b)},e);k&&f.apply(h,b)}},getViewportWidthInCssPixels:function(){for(var f=0,c=Math,d=window.screen.width,n=[window.innerWidth,window.document.documentElement.clientWidth,window.document.documentElement.offsetWidth,window.document.body.clientWidth],
h;f<n.length;f++)isNaN(n[f])&&(n.splice(f,1),f--);n.length&&(h=c.max.apply(c,n),isNaN(d)||(h=c.min(d,h)));return h||d||0},setBreakpoint:function(f){var e=f.data("options"),d,n,h,b,k;e.auto&&f.data("SliderBox").stopAuto();f.data("busyAnimating")?setTimeout(function(){p.setBreakpoint(f)},250):(d=this.getViewportWidthInCssPixels(),d=this.getBreakpoint(e.breakpoints,d),n="minDevicePixelRatio"in d?d.maxWidth:d.folder-0,d=f.parent().width(),k=c(".placeholder",f),b=c(".item",k),u=!1,f.width(d),b.width(d),
k.css({marginLeft:0-d*e.currentSlide,width:d*b.length}),n!==e.currentBreakpoint?(b.each(function(b,d){var k=c(d),a=k.attr("data-breakpoint"),r=k.find("img");if(r.length&&"undefined"!==typeof a&&!1!==a){if(b===e.currentSlide)r.one("load",function(){h=k.outerHeight();f.height(h)});r.attr("src",("path"in e&&"absolute"===e.path?"/":"")+a.replace("{folder}",n)+this.getAttribute("data-img"))}else b===e.currentSlide&&(h=k.outerHeight(),f.height(h))}),e.currentBreakpoint=n,f.data("options",e)):(h=b.eq(e.currentSlide).outerHeight(),
f.height(h)),e.auto&&f.data("SliderBox").startAuto())},getBreakpoint:function(c,e){for(var d=e,n=0,h={},b,k,g,l;b=c[n];){k=b.minWidth;g=b.maxWidth;l="minDevicePixelRatio"in b?b.minDevicePixelRatio:0;if(0<e){if(k&&g&&e>=k&&e<=g||k&&!g&&e>=k||g&&!k&&e<=g)if(!l||l&&y>=l)h=b}else if(0>=d||k<d||g<d)d=k||g||d,h=b;n++}return h},removeSlider:function(c){t.pop();c.remove()},error:function(c){throw Error(c);}};c(window).on(x,p.debounce(function(){for(var c=0;c<t.length;c++)p.setBreakpoint(t[c])},250));c.fn.sliderBox=
function(f,e){return this.each(function(){function d(a,r){if(u)setTimeout(function(){d(a,r)},100);else{var e=b.width(),m=c(".item",k).length-1,q=b.data("options"),f,h;b.data("busyAnimating",!0);switch(a){case "prev":q.currentSlide=0==q.currentSlide?m:q.currentSlide-1;h={marginLeft:-(e*q.currentSlide)};break;case "next":q.currentSlide=q.currentSlide==m?0:q.currentSlide+1;h={marginLeft:-(e*q.currentSlide)};break;case "goto":h={marginLeft:-(e*r)}}k.animate(h,g.speed,function(){b.data("busyAnimating",
!1);f=c(".item",b).eq(q.currentSlide).height();b.height(f)})}}function e(a,d){var g=b.add(b.find("img")).filter("img"),m=g.length;m?g.each(function(){var b=c(this),g=function(){b.off("load error",g);a?(m--,0==m&&d()):d()};b.on("load error",g);if("complete"==this.readyState)b.trigger("load");else if(this.readyState)this.src=this.src;else if(this.complete)b.trigger("load");else if(void 0===this.complete){var e=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";
this.src=e}}):d()}function h(){"breakpoints"in g&&g.breakpoints.constructor===Array&&g.breakpoints.length?(p.setBreakpoint(b),t.push(b)):e(!1,function(){var a=c(".item",b),d=a.height(),g=b.width(),e=a.length*b.width();b.height(d);a.width(g);c(".placeholder",b).width(e)});b.on("click",".navigate",function(a){a.preventDefault();a=c(a.currentTarget).index();d("goto",a)});if(v)b.on("touchstart touchmove touchend",function(a){var c;if("undefined"!==typeof a&&"undefined"!==typeof a.originalEvent.touches)switch(c=
a.originalEvent.touches[0],a.originalEvent.type){case "touchstart":l[a.originalEvent.type].x=c.pageX;l[a.originalEvent.type].y=c.pageY;break;case "touchmove":l[a.originalEvent.type].x=c.pageX;l[a.originalEvent.type].y=c.pageY;break;case "touchend":b.data("busyAnimating")||(l[a.originalEvent.type]=!0,-1<l.touchstart.x&&-1<l.touchmove.x&&(a=Math.abs(l.touchstart.x-l.touchmove.x),c=Math.abs(l.touchstart.y-l.touchmove.y),a>c&&a>.33*p.getViewportWidthInCssPixels()&&(l.direction=l.touchstart.x<l.touchmove.x?
"left":"right","left"===l.direction?d("prev"):"right"===l.direction&&d("next"))))}b.data("SliderBox").stopAuto()}),c(".prev, .next",b).css("display","none");else b.on("click",".prev, .next",function(a){a.preventDefault();b.data("SliderBox").stopAuto();d(this.rel)});"onComplete"in g&&e(!0,g.onComplete)}var b=c(this),k=b.find(".placeholder"),g=c.extend({auto:!1,currentSlide:0,currentBreakpoint:0,speed:500},f),l={touchstart:{x:-1,y:-1},touchmove:{x:-1,y:-1},touchend:!1,direction:"undetermined"},w;b.data({busyAnimating:!1,
options:g,SliderBox:{addSlides:function(a){var e=c(".item",k).eq(0).clone(),f;"breakpoints"in g&&(viewPortWidth=p.getViewportWidthInCssPixels(),breakpoint=p.getBreakpoint(g.breakpoints,viewPortWidth),breakpointVal="minDevicePixelRatio"in breakpoint?breakpoint.maxWidth:breakpoint.folder-0);for(var m=0;m<a.length;m++){for(var h in a[m])"img"===h?"breakpoints"in g?e.attr("data-img",a[m][h].src).attr("data-breakpoint",a[m][h].folder).find("img").attr("src",("path"in g&&"absolute"===g.path?"/":"")+a[m][h].folder.replace("{folder}",
breakpointVal)+a[m][h].src):e.find("img").attr("src",("path"in g&&"absolute"===g.path?"/":"")+a[m][h].folder+a[m][h].src):c(".item ."+h,e).html(a[m][h]);k.append(e);m||(f=c(".item",k).length-1)}a=c(".item",k);e=a.length*a.eq(0).width();b.data("options").currentSlide=a.length-1;k.width(e);d("goto",f)},removeSlider:function(){p.removeSlider(b)},startAuto:function(){if(!1 in g||!g.auto)g.auto=3E3;w=setInterval(function(){d("next")},g.auto)},stopAuto:function(){clearInterval(w)}}});"ajax"in g?c.ajax({url:g.ajax,
dataType:"json"}).done(function(a){var e=c(".item",b).eq(0),d;if("slides"in a){c(".loading",b).remove();for(var f=0;f<a.slides.length;f++){d=e.clone();for(key in a.slides[f])"image"===key?"breakpoints"in g?d.attr("data-breakpoint",a.slides[f].image.path).attr("data-img",a.slides[f].image.img):d.find("img").attr("src",a.slides[f].image.path+a.slides[f].image.img):d.find("."+key).html(a.slides[f][key]);k.append(d);"image"in a.slides[f]||c(".item",k).last().find("img").remove()}c(".item",b).eq(0).remove();
h()}else return c(".loading",b).html("No slides found, or misformatted json response."),p.error("No slides found, or misformatted json response.")}):h()})}})(jQuery);