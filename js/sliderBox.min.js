;(function(e){var w=!1,t="ontouchstart"in window,B=t?"orientationchange":"resize",C="devicePixelRatio"in window?window.devicePixelRatio:1,A=function(D,m,A){function l(f,b){if(w)setTimeout(function(){l(f,b)},100);else{var n=d.width(),c=e(".item",k),h=c.length-1,u;c.eq(a.currentSlide).attr("aria-hidden","false");c.not(":eq("+a.currentSlide+")").attr("aria-hidden","true");d.data("busyAnimating",!0);switch(f){case "prev":a.currentSlide=0===a.currentSlide?h:a.currentSlide-1;u={marginLeft:-(n*a.currentSlide)};
break;case "next":a.currentSlide=a.currentSlide===h?0:a.currentSlide+1;u={marginLeft:-(n*a.currentSlide)};break;case "goto":a.currentSlide=b,u={marginLeft:-(n*b)}}a.navigation&&e(".slider-nav a",d).removeClass("active").eq(a.currentSlide).addClass("active");k.animate(u,a.speed,function(){d.data("busyAnimating",!1);p(d)})}}function q(f,b){var a=d.add(d.find("img")).filter("img"),c=a.length;c?a.each(function(){var a=e(this),n=function(){a.off("load error",n);f?(c--,0==c&&b()):b()};a.on("load error",
n);if("complete"==this.readyState)a.trigger("load");else if(this.readyState)this.src=this.src;else if(this.complete)a.trigger("load");else if(void 0===this.complete){var d=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";this.src=d}}):b()}function v(){var f=e(".item",d);f.eq(a.currentSlide).attr("aria-hidden","false");f.not(":eq("+a.currentSlide+")").attr("aria-hidden","true");E(d,a.navigation);a.responsive&&a.breakpoints.constructor===Array&&a.breakpoints.length?
F(d):q(!1,function(){var b=d.width(),a=f.length*b;f.width(b);e(".placeholder",d).width(a);p(d)});"onComplete"in a&&q(!0,a.onComplete);d.on("click",".navigate",function(b){b.preventDefault();b=e(".navigate",d).index(this);l("goto",b)}).on("keypress",function(b){13==b.which&&(e(this).click(),b.preventDefault())});if(t)d.on("touchstart touchmove touchend",function(b){var a;if("undefined"!==typeof b&&"undefined"!==typeof b.originalEvent.touches)switch(a=b.originalEvent.touches[0],b.originalEvent.type){case "touchstart":case "mousedown":g[b.originalEvent.type].x=
a.pageX;g[b.originalEvent.type].y=a.pageY;break;case "touchmove":case "mousemove":g[b.originalEvent.type].x=a.pageX;g[b.originalEvent.type].y=a.pageY;break;case "touchend":case "mouseup":d.data("busyAnimating")||(g[b.originalEvent.type]=!0,-1<g.touchstart.x&&-1<g.touchmove.x&&(b=Math.abs(g.touchstart.x-g.touchmove.x),a=Math.abs(g.touchstart.y-g.touchmove.y),b>a&&b>.33*x().width&&(g.direction=g.touchstart.x<g.touchmove.x?"left":"right","left"===g.direction?l("prev"):"right"===g.direction&&l("next"))))}r.stopAuto()});
else d.on("click",".prev, .next",function(b){b.preventDefault();r.stopAuto();l(this.rel)}).on("keypress",function(b){13==b.which&&(e(this).click(),b.preventDefault())});e(window).on(B,G(function(){p(d)},250))}var d=e(D),k=d.find(".placeholder");m=m||{};var a=e.extend({},e.fn.sliderBox.defaults,m),g={touchstart:{x:-1,y:-1},touchmove:{x:-1,y:-1},touchend:!1,direction:"undetermined"},y,r={addSlides:function(f){var b=e(".item",k).eq(0).clone(),n;"breakpoints"in a&&(viewPortWidth=x().width,breakpoint=
z(a.breakpoints,viewPortWidth),breakpointVal=r.isEmpty(breakpoint)?elBreakpointVal=a.defaultBreakpoint.folder:breakpoint.folder-0);for(var c=0;c<f.length;c++){for(var h in f[c])"img"===h?"breakpoints"in a?b.attr("data-img",f[c][h].src).attr("data-breakpoint",f[c][h].folder).find("img").attr("src",("path"in a&&"absolute"===a.path?"/":"")+f[c][h].folder.replace("{folder}",breakpointVal)+f[c][h].src):b.find("img").attr("src",("path"in a&&"absolute"===a.path?"/":"")+f[c][h].folder+f[c][h].src):e(".item ."+
h,b).html(f[c][h]);k.append(b);c||(n=e(".item",k).length-1)}f=e(".item",k);b=f.length*f.eq(0).width();m.currentSlide=f.length-1;k.width(b);l("goto",n)},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},removeSlider:function(){d.remove()},startAuto:function(){if(!1 in a||!a.auto)a.auto=3E3;y=setInterval(function(){l("next")},a.auto)},stopAuto:function(){clearInterval(y)}},G=function(a,b,e){var c;return function(){var h=this,d=arguments,g=e&&!c;clearTimeout(c);c=setTimeout(function(){c=
null;e||a.apply(h,d)},b);g&&a.apply(h,d)}},x=function(){var a=window,b="inner";"innerWidth"in window||(b="client",a=document.documentElement||document.body);return{width:a[b+"Width"],height:a[b+"Height"]}},F=function(f){var b,d,c,h,g;b=x().width;b=z(a.breakpoints,b);c=f.parent().width();g=e(".placeholder",f);h=e(".item",g);w=!1;d=r.isEmpty(b)?elBreakpointVal=a.defaultBreakpoint.folder:b.folder-0;f.width(c);h.width(c);g.css({marginLeft:0-c*a.currentSlide,width:c*h.length});d!==a.currentBreakpoint?
(h.each(function(b,c){var h=e(c),g=h.attr("data-breakpoint"),h=h.find("img");if(h.length){if(b===a.currentSlide)h.one("load",function(){p(f)});"undefined"!==typeof g&&!1!==g&&h.attr("src",("path"in a&&"absolute"===a.path?"/":"")+(g+this.getAttribute("data-img")).replace("{folder}",d))}else b===a.currentSlide&&p(f)}),a.currentBreakpoint=d):p(f);a.auto&&r.startAuto()},z=function(a,b){for(var e=b,c=0,d={},g,k,l,m;g=a[c];){k=g.minWidth;l=g.maxWidth;m="minDevicePixelRatio"in g?g.minDevicePixelRatio:0;
if(0<b){if(k&&l&&b>=k&&b<=l||k&&!l&&b>=k||l&&!k&&b<=l)if(!m||m&&C>=m)d=g}else if(0>=e||k<e||l<e)e=k||l||e,d=g;c++}return d},E=function(a,b){if(b||t){for(var d=e('<div class="slider-nav '+b+'" aria-controls="carousel">  <ul></ul></div>'),c=0;c<e(".item",a).length;c++)e("ul",d).append('<li><a class="navigate" href="#">'+c+"</a></li>");e("a.navigate",d).eq(0).addClass("active");a.append(d)}else a.prepend('<div aria-controls="carousel">  <a href="#" class="prev" aria-label="previous" rel="prev">&lt;</a>  <a href="#" class="next" rel="next" aria-label="next">&gt;</a></div>')},
p=function(d){var b=e(".item",d).eq(a.currentSlide).outerHeight();d.animate({height:b})};"breakpoints"in a&&!a.responsive&&(a.responsive=!0);"ajax"in a?e.ajax({url:a.ajax,dataType:"json"}).done(function(f){var b=e(".item",d).eq(0),g;if("slides"in f){e(".loading",d).remove();for(var c=0;c<f.slides.length;c++){g=b.clone();for(var h in f.slides[c])"image"===h?a.responsive?g.attr("data-breakpoint",f.slides[c].image.path).attr("data-img",f.slides[c].image.img):g.find("img").attr("src",f.slides[c].image.path+
f.slides[c].image.img):g.find("."+h).html(f.slides[c][h]);k.append(g);"image"in f.slides[c]||e(".item",k).last().find("img").remove()}e(".item",d).eq(0).remove();v()}else throw e(".loading",d).html("No slides found, or misformatted json response."),Error("No slides found, or misformatted json response.");}):v();return r};e.fn.sliderBox=function(t,m){return this.each(function(w,l){var q=e(this);if(q.data("sliderBox"))return q.data("sliderBox");var v=new A(this,t,m);q.data({busyAnimating:!1,sliderBox:v})})};
e.fn.sliderBox.defaults={auto:!1,breakpoints:[{folder:"480",maxWidth:480},{folder:"640",minWidth:481,maxWidth:767},{folder:"900",minWidth:748},{folder:"1170",minWidth:992},{folder:"640",maxWidth:320,minDevicePixelRatio:2},{folder:"1170",minWidth:320,maxWidth:667,minDevicePixelRatio:2},{folder:"2048",minWidth:748,maxWidth:1024,minDevicePixelRatio:2},{folder:"2048",minWidth:414,maxWidth:736,minDevicePixelRatio:3}],currentSlide:0,currentBreakpoint:0,defaultBreakpoint:{folder:"1170"},navigation:!1,responsive:!1,
speed:500}})(jQuery);