;(function(g){var t=!1,u="ontouchstart"in window,w=u?"orientationchange":"resize",x="devicePixelRatio"in window?window.devicePixelRatio:1,p={debounce:function(e,f,d){var g;return function(){var h=this,b=arguments,k=d&&!g;clearTimeout(g);g=setTimeout(function(){g=null;d||e.apply(h,b)},f);k&&e.apply(h,b)}},getViewportWidthInCssPixels:function(){for(var e=0,g=Math,d=window.screen.width,n=[window.innerWidth,window.document.documentElement.clientWidth,window.document.documentElement.offsetWidth,window.document.body.clientWidth],
h;e<n.length;e++)isNaN(n[e])&&(n.splice(e,1),e--);n.length&&(h=g.max.apply(g,n),isNaN(d)||(h=g.min(d,h)));return h||d||0},setBreakpoint:function(e){var f=e.data("options"),d,n,h,b,k;f.auto&&e.data("SliderBox").stopAuto();e.data("busyAnimating")?setTimeout(function(){p.setBreakpoint(e)},250):(d=this.getViewportWidthInCssPixels(),d=this.getBreakpoint(f.breakpoints,d),n=d.folder-0,d=e.parent().width(),k=g(".placeholder",e),b=g(".item",k),t=!1,e.width(d),b.width(d),k.css({marginLeft:0-d*f.currentSlide,
width:d*b.length}),n!==f.currentBreakpoint?(b.each(function(b,d){var k=g(d),a=k.attr("data-breakpoint"),r=k.find("img");if(r.length&&"undefined"!==typeof a&&!1!==a){if(b===f.currentSlide)r.one("load",function(){h=k.outerHeight();e.height(h)});r.attr("src",("path"in f&&"absolute"===f.path?"/":"")+a.replace("{folder}",n)+this.getAttribute("data-img"))}else b===f.currentSlide&&(h=k.outerHeight(),e.height(h))}),f.currentBreakpoint=n,e.data("options",f)):(h=b.eq(f.currentSlide).outerHeight(),e.height(h)),
f.auto&&e.data("SliderBox").startAuto())},getBreakpoint:function(g,f){for(var d=f,n=0,h={},b,k,c,l;b=g[n];){k=b.minWidth;c=b.maxWidth;l="minDevicePixelRatio"in b?b.minDevicePixelRatio:0;if(0<f){if(k&&c&&f>=k&&f<=c||k&&!c&&f>=k||c&&!k&&f<=c)if(!l||l&&x>=l)h=b}else if(0>=d||k<d||c<d)d=k||c||d,h=b;n++}return h},removeSlider:function(g){g.remove()},error:function(g){throw Error(g);}};g.fn.sliderBox=function(e,f){return this.each(function(){function d(a,r){if(t)setTimeout(function(){d(a,r)},100);else{var e=
b.width(),m=g(".item",k).length-1,q=b.data("options"),f,h;b.data("busyAnimating",!0);switch(a){case "prev":q.currentSlide=0===q.currentSlide?m:q.currentSlide-1;h={marginLeft:-(e*q.currentSlide)};break;case "next":q.currentSlide=q.currentSlide===m?0:q.currentSlide+1;h={marginLeft:-(e*q.currentSlide)};break;case "goto":h={marginLeft:-(e*r)}}k.animate(h,c.speed,function(){b.data("busyAnimating",!1);f=g(".item",b).eq(q.currentSlide).height();b.height(f)})}}function f(a,d){var c=b.add(b.find("img")).filter("img"),
m=c.length;m?c.each(function(){var b=g(this),c=function(){b.off("load error",c);a?(m--,0==m&&d()):d()};b.on("load error",c);if("complete"==this.readyState)b.trigger("load");else if(this.readyState)this.src=this.src;else if(this.complete)b.trigger("load");else if(void 0===this.complete){var e=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";this.src=e}}):d()}function h(){c.responsive&&c.breakpoints.constructor===Array&&c.breakpoints.length?p.setBreakpoint(b):
f(!1,function(){var a=g(".item",b),c=a.height(),d=b.width(),e=a.length*d;b.height(c);a.width(d);g(".placeholder",b).width(e)});"onComplete"in c&&f(!0,c.onComplete);b.on("click",".navigate",function(a){a.preventDefault();a=g(a.currentTarget).index();d("goto",a)});if(u)b.on("touchstart touchmove touchend",function(a){var c;if("undefined"!==typeof a&&"undefined"!==typeof a.originalEvent.touches)switch(c=a.originalEvent.touches[0],a.originalEvent.type){case "touchstart":l[a.originalEvent.type].x=c.pageX;
l[a.originalEvent.type].y=c.pageY;break;case "touchmove":l[a.originalEvent.type].x=c.pageX;l[a.originalEvent.type].y=c.pageY;break;case "touchend":b.data("busyAnimating")||(l[a.originalEvent.type]=!0,-1<l.touchstart.x&&-1<l.touchmove.x&&(a=Math.abs(l.touchstart.x-l.touchmove.x),c=Math.abs(l.touchstart.y-l.touchmove.y),a>c&&a>.33*p.getViewportWidthInCssPixels()&&(l.direction=l.touchstart.x<l.touchmove.x?"left":"right","left"===l.direction?d("prev"):"right"===l.direction&&d("next"))))}b.data("SliderBox").stopAuto()}),
g(".prev, .next",b).css("display","none");else b.on("click",".prev, .next",function(a){a.preventDefault();b.data("SliderBox").stopAuto();d(this.rel)});if(c.responsive)g(window).on(w,p.debounce(function(){p.setBreakpoint(b)},250))}var b=g(this),k=b.find(".placeholder"),c=g.extend({auto:!1,breakpoints:[{folder:"480",maxWidth:480},{folder:"640",minWidth:481,maxWidth:767},{folder:"900",minWidth:748},{folder:"1170",minWidth:992},{folder:"640",maxWidth:320,minDevicePixelRatio:2},{folder:"1170",minWidth:320,
maxWidth:667,minDevicePixelRatio:2},{folder:"2048",minWidth:748,maxWidth:1024,minDevicePixelRatio:2},{folder:"2048",minWidth:414,maxWidth:736,minDevicePixelRatio:3}],currentSlide:0,currentBreakpoint:0,responsive:!1,speed:500},e),l={touchstart:{x:-1,y:-1},touchmove:{x:-1,y:-1},touchend:!1,direction:"undetermined"},v;"breakpoints"in e&&!("responsive"in e)&&(c.responsive=!0);b.data({busyAnimating:!1,options:c,SliderBox:{addSlides:function(a){var e=g(".item",k).eq(0).clone(),f;"breakpoints"in c&&(viewPortWidth=
p.getViewportWidthInCssPixels(),breakpoint=p.getBreakpoint(c.breakpoints,viewPortWidth),breakpointVal=breakpoint.folder-0);for(var m=0;m<a.length;m++){for(var h in a[m])"img"===h?"breakpoints"in c?e.attr("data-img",a[m][h].src).attr("data-breakpoint",a[m][h].folder).find("img").attr("src",("path"in c&&"absolute"===c.path?"/":"")+a[m][h].folder.replace("{folder}",breakpointVal)+a[m][h].src):e.find("img").attr("src",("path"in c&&"absolute"===c.path?"/":"")+a[m][h].folder+a[m][h].src):g(".item ."+h,
e).html(a[m][h]);k.append(e);m||(f=g(".item",k).length-1)}a=g(".item",k);e=a.length*a.eq(0).width();b.data("options").currentSlide=a.length-1;k.width(e);d("goto",f)},removeSlider:function(){p.removeSlider(b)},startAuto:function(){if(!1 in c||!c.auto)c.auto=3E3;v=setInterval(function(){d("next")},c.auto)},stopAuto:function(){clearInterval(v)}}});"ajax"in c?g.ajax({url:c.ajax,dataType:"json"}).done(function(a){var e=g(".item",b).eq(0),d;if("slides"in a){g(".loading",b).remove();for(var f=0;f<a.slides.length;f++){d=
e.clone();for(var l in a.slides[f])"image"===l?c.responsive?d.attr("data-breakpoint",a.slides[f].image.path).attr("data-img",a.slides[f].image.img):d.find("img").attr("src",a.slides[f].image.path+a.slides[f].image.img):d.find("."+l).html(a.slides[f][l]);k.append(d);"image"in a.slides[f]||g(".item",k).last().find("img").remove()}g(".item",b).eq(0).remove();h()}else return g(".loading",b).html("No slides found, or misformatted json response."),p.error("No slides found, or misformatted json response.")}):
h()})}})(jQuery);